(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{103:function(e,t,n){e.exports={formControl:"FormsController_formControl__1hHKa",error:"FormsController_error__2p3T6",fromSummaryError:"FormsController_fromSummaryError__3lJuo"}},148:function(e,t,n){e.exports=n(278)},16:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return i}));var r=n(117),a=r.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"694b4ab8-8917-48c6-9edf-af5966ffc44a"}}),o={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},makeUsersFollowed:function(e){return a.post("follow/".concat(e))},makeUsersUnfollowed:function(e){return a.delete("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete object, please use profileAPI!"),u.getProfile(e)}},u={getProfile:function(e){return a.get("profile/"+e)},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status",{status:e})}},i={getAuth:function(){return a.get("auth/me")},getLogin:function(e,t){return a.post("auth/login",{email:e,password:t})},getLogout:function(){return a.delete("auth/login")}}},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},237:function(e,t,n){},275:function(e,t,n){},276:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(5),o=n(47),u=n(16),i={userId:null,email:null,login:null,logout:null,isAuth:!1,password:null},c=function(e,t,n,r){return{type:"SET-USER-DATA",data:{userId:e,email:t,login:n,isAuth:r}}},l=function(){return function(e){return u.a.getAuth().then((function(t){if(0===t.data.resultCode){var n=t.data.data,r=n.id,a=n.email,o=n.login;e(c(r,a,o,!0))}})),"hey"}},s=function(){return function(e){u.a.getLogout().then((function(t){0===t.data.resultCode&&e(c(null,null,null,!1))}))}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(a.a)(Object(a.a)({},e),t.data);case"ON-SUBMIT":return Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},e),t.password),t.email),{},{isAuth:!0});default:return e}},d=n(81),m={users:[],totalUsersCount:25,pageSize:5,currentPage:1,isFetching:!1,followingInProgress:!1},p=function(e){return{type:"FOLLOW",userID:e}},g=function(e){return{type:"UNFOLLOW",userID:e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(a.a)(Object(a.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(a.a)(Object(a.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(a.a)(Object(a.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(a.a)(Object(a.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(a.a)(Object(a.a)({},e),{},{users:t.users});case"SET-USERS-CURRENTPAGE":return Object(a.a)(Object(a.a)({},e),{},{currentPage:t.currentPageProps});case"TOGGOLE-IS-FOLLOWING":return Object(a.a)(Object(a.a)({},e),{},{followingInProgress:t.isFetching});default:return e}},E=n(118),b=n(116),O={initialized:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-SUCCESS":return Object(a.a)(Object(a.a)({},e),{},{initialized:!0});case"ON-SUBMIT":return Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},e),t.password),t.email),{},{isAuth:!0});default:return e}},v=Object(r.c)({usersPage:h,profilePage:d.b,form:b.a,auth:f,content:S}),j=Object(r.e)(v,Object(r.a)(E.a));window.store=j;var C=j,w=n(0),k=n.n(w),T=n(56),P=n.n(T),A=(n(230),n(231),n(21)),U=(n(232),[{id:1,header:"Profile",link:"/profile"},{id:2,header:"Messages",link:"/dialogs"},{id:3,header:"News",link:"/news"},{id:4,header:"Music",link:"/music"},{id:5,header:"Settings",link:"/settings"},{id:6,header:"Find Someone",link:"/findSomeone"}].map((function(e){return k.a.createElement(A.b,{to:e.link,key:e.id},e.header)})));function y(){return k.a.createElement("nav",{className:"sidebarlist"},k.a.createElement("div",{className:"list"},k.a.createElement("div",null,U)))}function L(e){return k.a.createElement("div",{className:"sidebar"},k.a.createElement(y,null))}var I=n(30),N=n(31),F=n(33),z=n(32),D=n(9);n(237);function R(){return k.a.createElement("div",{className:"music"})}function M(){return k.a.createElement("div",{className:"settings"})}var _=n(11);function x(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],r=1;r<=t;r++)n.push(r);return k.a.createElement("div",{className:"wrapper"},k.a.createElement("span",null,k.a.createElement("div",null,n.map((function(t){return k.a.createElement("span",{onClick:function(n){e.onPageChanged(t)}},t)})))),e.users.map((function(t){return k.a.createElement("div",{key:t.id},k.a.createElement("div",null,k.a.createElement(A.b,{to:"/profile/"+t.id},k.a.createElement("div",null,t.name))),k.a.createElement("div",null,t.followed?k.a.createElement("button",{onClick:function(){e.unfollowAcceptThunkCreator(t.id)}},"unfollow"):k.a.createElement("button",{onClick:function(){e.followAcceptThunkCreator(t.id)}},"follow")))})))}var G=n(121),W=function(e){return e.usersPage.users},B=(Object(G.a)(W,(function(e){return e.filter((function(e){return!0}))})),function(e){return e.usersPage.pageSize}),J=function(e){return e.usersPage.currentPage},H=function(e){return e.usersPage.totalUsersCount},K=function(e){return e.usersPage.toggleIsFollowing},Z=function(e){Object(F.a)(n,e);var t=Object(z.a)(n);function n(){var e;Object(I.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsersThunkCreator(t,e.props.pageSize)},e}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return k.a.createElement(k.a.Fragment,null,k.a.createElement(x,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,toggleIsFollowing:this.props.toggleIsFollowing,onPageChanged:this.onPageChanged,unfollowAcceptThunkCreator:this.props.unfollowAcceptThunkCreator,followAcceptThunkCreator:this.props.followAcceptThunkCreator}))}}]),n}(k.a.Component),Y=Object(r.d)(Object(_.b)((function(e){return{users:W(e),currentPage:J(e),pageSize:B(e),totalUsersCount:H(e),toggleIsFollowing:K(e)}}),{follow:p,unFollow:g,setUsersCurrentPage:function(e){return{type:"SET-USERS-CURRENTPAGE",currentPageProps:e}},getUsersThunkCreator:function(e,t){return function(n){u.c.getUsers(e,t).then((function(e){n({type:"SET-USERS",users:e.items})}))}},unfollowAcceptThunkCreator:function(e){return function(t){u.c.makeUsersUnfollowed(e).then((function(n){0===n.data.resultCode&&t(g(e))}))}},followAcceptThunkCreator:function(e){return function(t){u.c.makeUsersFollowed(e).then((function(n){0===n.data.resultCode&&t(p(e))}))}}}))(Z);function q(){return k.a.createElement(Y,null)}var Q=n(114),V=n(115),X=n(103),$=n.n(X),ee=Object(V.a)({form:"login"})((function(e){return k.a.createElement("form",{onSubmit:e.handleSubmit},k.a.createElement("div",null,k.a.createElement(Q.a,{name:"login",type:"text",placeholder:"Login",component:"input"})),k.a.createElement("div",null,k.a.createElement(Q.a,{name:"password",type:"password",placeholder:"Password",component:"input"})),k.a.createElement("div",null,k.a.createElement(Q.a,{name:"checkbox",type:"checkbox",component:"input"})),k.a.createElement("div",null,e.error&&k.a.createElement("div",{className:$.a.fromSummaryError},e.error)),k.a.createElement("div",null,k.a.createElement("button",null,"Submit")))})),te=Object(_.b)((function(e){return{isAuth:e.auth.isAuth}}),{LoginThunkCreator:function(e,t){return function(n){u.a.getLogin(e,t).then((function(e){if(0===e.data.resultCode)n(l());else{var t=e.data.messages.length>0?e.data.messages[0]:"Some error";n(Object(o.a)("login",{_error:t}))}}))}}})((function(e){return!0===e.isAuth?k.a.createElement(D.a,{to:"/profile"}):k.a.createElement("div",null,k.a.createElement("h1",null,"Login"),k.a.createElement(ee,{onSubmit:function(t){e.LoginThunkCreator(t.login,t.password)}}))})),ne=k.a.lazy((function(){return n.e(3).then(n.bind(null,281))})),re=k.a.lazy((function(){return n.e(4).then(n.bind(null,280))})),ae=function(e){Object(F.a)(n,e);var t=Object(z.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeContent()}},{key:"render",value:function(){return this.props.initialized?k.a.createElement("div",{className:"content"},k.a.createElement(D.b,{path:"/profile/:userId?",render:function(){return k.a.createElement(k.a.Suspense,{fallback:k.a.createElement("div",null,"Loading...")},k.a.createElement(ne,null))}}),k.a.createElement(D.b,{path:"/news",render:function(){return k.a.createElement(k.a.Suspense,null,k.a.createElement(re,null))}}),k.a.createElement(D.b,{path:"/music",component:R}),k.a.createElement(D.b,{path:"/settings",component:M}),k.a.createElement(D.b,{path:"/findSomeone",render:function(){return k.a.createElement(q,null)}}),k.a.createElement(D.b,{path:"/login",render:function(){return k.a.createElement(te,null)}})):k.a.createElement("div",null,"watiting")}}]),n}(k.a.Component),oe=Object(r.d)(D.f,Object(_.b)((function(e){return{initialized:e.content.initialized}}),{setUserData:c,initializeContent:function(){return function(e){var t=e(l());Promise.all([t]).then((function(){e({type:"INITIALIZED-SUCCESS"})}))}},LogoutThunkCreator:s}))(ae),ue=(n(275),n(276),n(277),function(e){return k.a.createElement("div",{className:"login-block"},e.isAuth?k.a.createElement("div",null,e.login," - ",k.a.createElement("button",{onClick:e.LogoutThunkCreator},"log out")):k.a.createElement(A.b,{to:"/login"},"log in"))}),ie=function(e){return k.a.createElement("div",{className:"header"},k.a.createElement(ue,{LogoutThunkCreator:e.LogoutThunkCreator,isAuth:e.isAuth,login:e.login}),"  ")},ce=function(e){Object(F.a)(n,e);var t=Object(z.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){return k.a.createElement(ie,Object.assign({LogoutThunkCreator:this.props.LogoutThunkCreator},this.props))}}]),n}(k.a.Component),le=Object(_.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{LogoutThunkCreator:s})(ce);var se=function(){return k.a.createElement("div",{className:"App"},k.a.createElement(A.a,null,k.a.createElement(le,null),k.a.createElement(L,null),k.a.createElement(oe,null)))};P.a.render(k.a.createElement(_.a,{store:C},k.a.createElement(se,null)),document.getElementById("root"))},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return d}));var r=n(122),a=n(5),o=n(16),u={posts:[{id:0,message:"What's up"},{id:1,message:"How are you"}],listOfNamesData:[{name:"Alex",id:1},{name:"Mark",id:2},{name:"Dima",id:3},{name:"Mukhsin",id:4},{name:"Richard",id:5},{name:"Otto",id:6},{name:"Gunna",id:7}],profile:null,status:""},i=function(e){return{type:"ADD-POST",PostMessage:e}},c=function(e){return{type:"SET-USER-PROFILE",profile:e}},l=function(e){return{type:"SET-STATUS",status:e}},s=function(e){return function(t){o.c.getProfile(e).then((function(e){t(c(e.data))}))}},f=function(e){return function(t){o.b.getStatus(e).then((function(e){t(l(e.data))}))}},d=function(e){return function(t){o.b.updateStatus(e).then((function(n){0===n.data.resultCode&&t(l(e))}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:2,message:t.PostMessage},o=Object(a.a)({},e);return console.log(o),o.posts=Object(r.a)(e.posts),o.posts.push(n),o;case"SET-USER-PROFILE":return Object(a.a)(Object(a.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(a.a)(Object(a.a)({},e),{},{status:t.status});default:return e}}}},[[148,1,2]]]);
//# sourceMappingURL=main.97cddf7a.chunk.js.map